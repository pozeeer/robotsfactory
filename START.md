# Это приложение реализует Api для работы с фабрикой роботов

---

## Что нужно для запуска

1. Создать виртуальное окружение и активировать его
2. Установить зависимости командой `python -m pip install -r req.txt`
3. Создать файл .env в корне проекта и заполнить следующие переменные окружения
    * SECRET_KEY - секретный ключ
    * DEBUG - режим разработки
    * EMAIL_HOST_USER - почта с которой будут отправляться письма (об этом чуть ниже)
    * EMAIL_HOST_PASSWORD - пароль от приложения созданного в yandex почте (инструкция будет ниже)
    * DEFAULT_FROM_EMAIL - адрес электронной почты от куда отправлять письма по умолчанию(можно поставить тоже самое что
      и EMAIL_HOST_USER)
4. Применить миграции командой `python manage.py migrate`
5. Запустить приложение командой `python manage.py runserver`

---

## Инструкция по получению EMAIL_HOST_PASSWORD в яндекс почте
1. Заходим на аккаунт Яндекс почты 
2. Переходим в настройки (шестерёнка, потом все настройки)
3. В левом столбце переходим в Почтовые программы
4. Ставим галока на против пункта `С сервера imap.yandex.ru по протоколу IMAP`
5. В этом же пункте нажимаем на `Пароли приложений`
6. Следуем инструкции по созданию пароля в секции `Создать пароль приложения`
7. Полученный пароль сразу копируем, он показывается один раз, и вставляем в EMAIL_HOST_PASSWORD

---

## Функционал
1. Первый эндпоинт http://127.0.0.1:8000/robots/create/new_robot/
   Отвечает за создание робота, в теле запроса передать:
    * model - модель робота, 2-х значный символ, пример: 73
    * version - версия робота,2-х значный символ, пример: XR
    * created - дата создания в формате: 2024-12-18 00:00:00
2. Второй энд поинт http://127.0.0.1:8000/robots/excel/week/report/
   Отвечает за получение отчёта по произведённым роботам за неделю
    * В ответе приходит ссылка, нажав на которую скачивается excel документ с отчётом
    * Также документ можно скачать просто обратившись по ссылке:
    *
        * http://127.0.0.1:8000/media/reports/robot_report.xlsx
3. Третий энд поинт http://127.0.0.1:8000/orders/new/robot-order/
   Отвечает за заказ робота, в теле запроса передаётся:
    * model - модель робота
    * version - версия робота
    * email - если подходящего робота не обнаружено сюда нужно передать свой email, чтобы когда робот появился вас
      оповестили по почте